joint_state_controller:
  type: joint_state_controller/JointStateController
  publish_rate: 50  

j_thumb_fle_position_controller:
    type: velocity_controllers/JointPositionController
    joint: j_thumb_fle
    pid:
      p: &p_tv_gain 2.0
      i: &i_tv_gain 0.1
      d: &d_tv_gain 0.0
      antiwindup: &a_tv_value false
      i_clamp_max: &i_max_tv_value 10.0
      i_clamp_min: &i_min_tv_value 0.0
    
j_index_fle_position_controller:
  type: velocity_controllers/JointPositionController
  joint: j_index_fle
  pid:
    p: *p_tv_gain
    i: *i_tv_gain
    d: *d_tv_gain
    antiwindup: *a_tv_value
    i_clamp_max: *i_max_tv_value
    i_clamp_min: *i_min_tv_value
  
j_mrl_fle_position_controller:
  type: velocity_controllers/JointPositionController
  joint: j_mrl_fle
  pid:
    p: *p_tv_gain
    i: *i_tv_gain
    d: *d_tv_gain
    antiwindup: *a_tv_value
    i_clamp_max: *i_max_tv_value
    i_clamp_min: *i_min_tv_value

mia_hand_vel_trajectory_controller:
  type: velocity_controllers/JointTrajectoryController
  joints:
    - j_index_fle
    - j_mrl_fle
    - j_thumb_fle

  constraints:
    goal_time: 4.0
    stopped_velocity_tolerance: 1.0
    j_index_fle:
      goal: &goal_tv_constraint 0.5
      trajectory: &trajectory_tv_constraint 1.0
    j_mrl_fle:
      goal: *goal_tv_constraint
      trajectory: *trajectory_tv_constraint
    j_thumb_fle:
      goal: *goal_tv_constraint
      trajectory: *trajectory_tv_constraint

  gains:
    j_index_fle:
      p: *p_tv_gain
      i: *i_tv_gain
      d: *d_tv_gain
      antiwindup: *a_tv_value
      i_clamp_max: *i_max_tv_value
      i_clamp_min: *i_min_tv_value
    j_mrl_fle:
      p: *p_tv_gain
      i: *i_tv_gain
      d: *d_tv_gain
      antiwindup: *a_tv_value
      i_clamp_max: *i_max_tv_value
      i_clamp_min: *i_min_tv_value
    j_thumb_fle:
      p: *p_tv_gain
      i: *i_tv_gain
      d: *d_tv_gain
      antiwindup: *a_tv_value
      i_clamp_max: *i_max_tv_value
      i_clamp_min: *i_min_tv_value
      
  velocity_ff:
    j_index_fle: &v_tv_value 2.0
    j_mrl_fle: *v_tv_value
    j_thumb_fle: *v_tv_value

  stop_trajectory_duration: 1.0

mia_hand_pos_trajectory_controller:
      type: position_controllers/JointTrajectoryController
      joints:
        - j_index_fle
        - j_mrl_fle
        - j_thumb_fle

      constraints:
        goal_time: 4.0
        stopped_velocity_tolerance: 1.0
        j_index_fle:
          goal: &goal_tp_constraint 0.5
          trajectory: &trajectory_tp_constraint 1.0
        j_mrl_fle:
          goal: *goal_tp_constraint
          trajectory: *trajectory_tp_constraint
        j_thumb_fle:
          goal: *goal_tp_constraint
          trajectory: *trajectory_tp_constraint

      stop_trajectory_duration: 1.0